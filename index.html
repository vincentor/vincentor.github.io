<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.2"/>


    <meta name="description" content="Live with hope, live with me." />



  <meta name="keywords" content="Linux,python,php,cat,dog" />



  <link rel="alternate" href="/atom.xml" title="HopeWorld" type="application/atom+xml" />



  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.2" />




  <title> HopeWorld </title>
<meta name="generator" content="Hexo 4.2.0"></head>

<body>
<!--[if lte IE 8]> <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'> <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode" target="_blank" rel="noopener"><img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820" alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari." style='margin-left:auto;margin-right:auto;display: block;'/></a></div> <![endif]-->
  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <div id="header" class="header">
      <div class="header-inner">
        <h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">HopeWorld</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>


  <ul id="menu" class="menu">
     
    
      
      <li class="menu-item menu-item-home">
        <a href="/">
          <i class="menu-item-icon icon-home"></i> <br />
          首页
        </a>
      </li>
    
      
      <li class="menu-item menu-item-archives">
        <a href="/archives/">
          <i class="menu-item-icon icon-archives"></i> <br />
          归档
        </a>
      </li>
    
      
      <li class="menu-item menu-item-categories">
        <a href="/categories/">
          <i class="menu-item-icon icon-categories"></i> <br />
          分类
        </a>
      </li>
    
      
      <li class="menu-item menu-item-tags">
        <a href="/tags/">
          <i class="menu-item-icon icon-tags"></i> <br />
          标签
        </a>
      </li>
    
      
      <li class="menu-item menu-item-about">
        <a href="/about/">
          <i class="menu-item-icon icon-about"></i> <br />
          关于
        </a>
      </li>
    
  </ul>


      </div>
    </div>

    <div id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
  <div id="posts" class="posts-expand">
    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2018/01/16/fubaba-qiongbaba/">
                <<富爸爸, 穷爸爸>>
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2018-01-16
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/%E6%96%87%E7%AB%A0/">文章</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2018/01/16/fubaba-qiongbaba/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2018/01/16/fubaba-qiongbaba/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <pre>在这个世界里会消费将比会储蓄更重要</pre>

<ul>
<li>金钱在贬值，储蓄带来的利息基本很难赶上金钱贬值的速度，合理的消费将金钱转化为资产</li>
</ul>
<pre>富人之所以越来越富，穷人之所以越来越穷，中产阶级之所以总是在债务的泥潭中挣扎，其中一个主要原因就是，他们对金钱的认识不来自学校，而是来自家庭。那就是一个人的观念对他的一生影响巨大。例如，我的一个爸爸总是习惯说“我可付不起”，而另一个爸爸则禁我们说这样的话，他坚持让我这样说：“我怎样才能付得起？”这两句话，一句是陈述句，另一句是疑问句。一句让你放弃，而另一句则促使你去想办法。</pre>

<ul>
<li>家庭环境对于人的金钱观、消费观的影响是巨大的，很多人正是因为受到家庭观念的限制，形成了寻求稳定，规避风险的本能，导致在机会来临是不敢做出过于冒险的选择。</li>
<li>但同时这也是因为家里穷，没有生活的保障资本而导致没法更轻易的做决定。这个只能辩证的去看待，决定在什么样的生活阶段去做出什么样的选择（例如在很穷的时候就不要学人家去创业，除非破釜沉舟）。我觉得至少应该通过相对稳定的工作和收入来源，有所积累和保障之后再开始风险较大的投资，而不是在失败之后变成一无所有，毕竟从底层爬起来的概率还是低很多的。</li>
</ul>
<pre>贫穷和破产的区别是：破产是暂时的，而贫穷是永久的。</pre>

<ul>
<li>现实是破产之后能复活的人并不多，毕竟成功是天时地利人和，没有绝对能成功的说法（成功可以复制，努力就会成功这些都是洗脑心灵鸡汤），所以与其这么去考虑，还不如尽量在破产之前去改变</li>
<li>从另外一个维度上，这句话只是想说明，贫穷主要是思想上的限制，而破产只是物质上的匮乏</li>
</ul>
<pre>钱是一种力量，但更有力量的是财商教育。钱来了又会去，但如果你了解钱是如何运动的，你就获得了驾驭它的力量，就能开始积累财富了</pre>

<ul>
<li>光了解钱是如何运动的其实也还不够，还需要知道怎么样用最小的钱去撬动大钱，实现滚雪球</li>
</ul>
<pre>生活推着我们所有的人，有些人放弃了，有些人在抗争。少数人学会了这门课程，取得了进步，他们欢迎生活来推动他们，对他们来说，这种推动意味着他们需要并愿意去学习一些东西。他们学习，然后取得进步。但大多数人放弃了，还有一部分人像你一样在抗争。向生活屈服了，不敢承担风险。你的确想赢，但失败的恐惧超过了成功的兴奋。只有你知道，在你内心深处，你始终认为你不可能赢，所以你选择了稳定。</pre>

<ul>
<li>很多时候选择稳定，内心深处的原因可能是“你觉得你自己不可能赢”，然而现实是你还没开始尝试就已经放弃了。</li>
</ul>
<pre>如果你认为是我的问题，你会想改变我；如果你认为问题在你那儿，你就会改变自己，学习一些东西让自己变得更聪明。大多数人认为世界上除了自己外，其他人都应该改变。让我告诉你吧，改变自己比改变他人更容易。</pre>

<ul>
<li>改变自己比改变他人容易的太多，无论是哪方面，所以更多时候从自己身上找原因，想办法，多想想“自己能做什么改变现状”，会是更好的出路。</li>
<li>但是通过自己影响他人，其实在某些方面还是可以做到的</li>
</ul>
<pre>对大多数人而言，给他们的钱越多，他们欠的债也就越多。</pre>

<ul>
<li>正所谓“由俭入奢易，由奢入俭难”，一旦习惯了某个层次的生活水平，当挣到的钱没法支持这个生活水平，就会开始想借贷</li>
</ul>
<pre>正是出于恐惧的心理，人们才想找一份安稳的工作。这些恐惧有：害怕付不起账单，害怕被解雇，害怕没有足够的钱，害怕重新开始
为了寻求保障，他们会学某种专业，或是做生意，拼命为钱而工作。大多数人成了钱的奴隶，然后就把怒气发泄在他们老板身上。大多数人都希望有一份工资收入，因为他们都有恐惧和贪婪之心。一开始，没钱的恐惧会促使他们努力工作，得到报酬后，贪婪或欲望又让他们想拥有所有用钱能买到的好东西。于是就形成了一种模式。他们并不清楚自己真正的感觉，只是作出反应，而不去思考。他们感到恐惧，于是就去工作，希望钱能消除恐惧，但没有奏效。于是，恐惧追逐着他们，只好又去工作，再一次期望钱能平复这种恐惧，但还是没有成功。恐惧使他们落入工作的陷阱，挣钱——工作——挣钱，希望恐惧就此烟消云散。但每天他们起床时，就会发现恐惧又与他们一起醒来了。恐惧使成千上万的人彻夜难眠，忧心忡忡。所以他们又起床去工作了，希望薪水能消除噬咬他们灵魂的恐惧。钱主宰着他们的生活，他们拒绝去分辨真相，钱控制了他们的情感和灵魂。</pre>

<ul>
<li>这确实是一个很新颖的观点，有时候仔细想想还真是，职场的人们大多想的是如何“升职加薪”，而不是想其他出路，有时候职场走的越远，赚钱的思路可能就越窄</li>
<li>但从另一个角度上看，寻求“升职加薪”并没有错，对于人们自身的能力投资，其实也是一种投资，除非某个行业彻底崩溃，否则人的技能在一定时期内是一种资产。另外除了技能外，思维能力、管理能力、沟通能力等各种软素质，更是一种长期资产，能在各行各业通用。</li>
<li>虽然职场是在为钱工作，为老板工作，但不表示我们就应该消极怠工，因为工作的收入依然是大部分人的投资本钱，如果连本钱都没有，空手套白狼、天上掉馅饼的事情，就算有也轮不到大多数人</li>
</ul>
<pre>不谈钱就像依赖钱一样是一种精神上的疾病。</pre>

<ul>
<li>没错，所谓视金钱如粪土，其实也是一种对谈钱的逃避</li>
</ul>
<pre>好好观察你的感情，别急于行动。大多数人并不知道是他们的感情代替了他们进行思考，感情只是感情，你还必须学会抛开感情来思考。运用感情作长远打算，别让感情控制了思想。大多数人让恐惧和贪婪来支配自己，这是无知的开始。因为恐惧和贪婪，大多数人一生都在追求工资、加薪和职业保障，从来不问这种感情支配思想的生活之路将通向哪里只有知识才能解决问题并创造财富，那些不是靠财务知识挣来的钱也不会长久</pre>

<ul>
<li>不能依赖情感做决定，特别是投资上的事情，更多的是数据、是概率、是对信息的整合后进行综合判断</li>
</ul>
<pre>从长远来看，重要的不是你挣了多少钱，而是你能留下多少钱，以及能够留住多久</pre>

<ul>
<li>还在于你的钱是否能保值甚至升值</li>
</ul>
<pre>富人获得资产，而穷人和中产阶级获得负债，只不过他们以为那些负债就是资产。</pre>
<pre>富人买入资产。 穷人只有支出。 中产阶级购买自以为是资产的负债</pre>

<ul>
<li>很多人会分不清楚资产和负债，于是他们贷款买各种会贬值的东西</li>
</ul>
<pre>资产是能把钱放进你口袋里的东西。 负债是把钱从你口袋里取走的东西</pre>

<ul>
<li><p>能保值并创造价值的才是资产</p>
</li>
<li><p>财务安全：</p>
  <pre>当我想要换一所大一点的房子时，我会先买入一些资产，让它们创造能够支付这所房子的现金流</pre>
  <pre>只有你把额外的收入用来购买可产生收入的资产，你才能获得真正的财务安全</pre>
</li>
<li><p>什么是财富：</p>
<pre>财富就是支撑一个人生存多长时间的能力，或者说，如果我今天停止工作，我还能活多久</pre>


</li>
</ul>
<pre>从事你所学的专业的可怕后果在于，它会让你忘记关注自己的事业。人们耗尽一生去关注别人的事业并使他人致富</pre>

<ul>
<li>所以需要多接触各种知识，多和各种人（特别是富人）打交道，开阔思路</li>
</ul>
<pre>富人关心的焦点是资产而其他人关心的是收入</pre>

<ul>
<li><p>我们总喜欢讨论工资多少，有没有加薪升职。而富人关注的是买入了多少资产，有哪些可以变成资产</p>
</li>
<li><p>如何开始</p>
<pre>对成年人而言，把支出保持在低水平、减少借款并勤劳地工作会帮你打下一个稳固的资产基础。对于还未经济独立的年轻人来说，父母应该教他们搞清楚资产和负债的区别，让他们在离家、结婚、买房子、生孩子、陷入财务危机、完全依赖工作和贷款之前建立起坚实的资产基础，这是非常重要的</pre>
</li>
<li><p>关于买股票</p>
<pre>好主意。 我喜欢小公司的股票，尤其是刚成立的公司，因为我是一个企业家而不是一个雇员。我早年也曾在一些大机构工作，如加利福尼亚标准石油公司、美国海军陆战队和施乐公司。在这些机构做事给我留下了愉快的回忆。但我深知我不只是一名雇员，我喜欢开办公司但不喜欢去经营它们，所以我买的股票都是小公司的。有时我甚至自己创办小公司并把它们上市，在新股发行中创造财富，我喜爱这种游戏。许多人害怕买小公司的股票，认为它们风险大，事实上也确是如此。但是如果你喜爱你所投资的对象，了解它并懂得游戏的规则，风险就会降低。</pre>
</li>
<li><p>钱生钱的思想</p>
<pre>一旦把1美元投入了资产项，就不要让它出来。你应该这么想，这1美元进了你的资产项，它就成了你的雇员。关于钱，最妙的就是让它可以一天24小时不间断工作，还能为你的子孙后代服务</pre>
</li>
<li><p>所需要的知识</p>
<pre>第一是会计，也就是我说的财务知识</pre>
<pre>第二是投资，我把它称为钱生钱的科学</pre>
<pre>第三是了解市场，它是供给与需求的科学</pre>
<pre>第四是法律</pre>
</li>
<li><p>相信自己，然后尝试</p>
<pre>我们都拥有巨大的潜能——这是上天赏赐的礼物。然而，我们都或多或少地存在着某种自我怀疑的心理，从而阻碍前进的步伐。这种障碍很少是缺乏某种技术性的东西，更多的是缺乏自信。有些人更容易受到外界的影响</pre>
</li>
<li><p>赌博和投资的区别</p>
<pre>如果你把钱投进一笔交易然后只是祈祷，才是在赌博。在任何一项投资中，成功的办法都是运你的技术知识、智慧以及对于这个游戏的热爱来减少意外、降低风险</pre>

</li>
</ul>
<pre>大部分人从来赢不了是因为他们太害怕失去</pre>

<ul>
<li><p>这种情况下应该定义好自己能接受的损失，然后在这个范围内放开去做</p>
</li>
<li><p>投资者有哪几类</p>
<pre>1．第一类也是最普遍的一类，即进行一揽子投资的人</pre>
<pre>2．第二类是自己创造投资机会的投资者</pre>
</li>
<li><p>自己创造投资机会，需要学会</p>
<pre>1．如何寻找其他人都忽视的机会</pre>
<pre>2．如何增加资金</pre>
<pre>3．怎样把精明的人组织起来</pre>

</li>
</ul>
<pre>大部分人需要学习和掌握不止一项技能，只有这样他们的收入才能获得显著增长。以前我提到过，财商是会计、投资、市场和法律等各方面知识和能力的综合。将上述4种技能结合起来，以钱生钱就会容易得多。当涉及钱的时候，只有一项技能的人不得不努力工作</pre>

<ul>
<li>只能说要学习多个领域的知识，并应用</li>
</ul>
<pre>成功所必需的管理技能包括： 
1．对现金流的管理。 
2．对系统（包括你本人、时间及家庭）的管理。 
3．对人员的管理</pre>

<pre>精通专业技能既是优势也是弱点</pre>

<ul>
<li>所以有些人是会雇佣聪明的人，专业的人办事，然后自己收钱</li>
</ul>
<pre>愤世者抱怨现实，而成功者分析现实。</pre>

<pre>负罪感比欲望要糟 因为负罪感抢走了灵魂。</pre>


<pre>做你内心认为正确的事情因为你不管怎么做总会受到批评。如果你做，会受到指责；而你不做，还是会受到指责。</pre>

<ul>
<li>所以有时候需要做自己认为正确的事情，不用在意别人怎么看</li>
</ul>
<pre>所以你看，在我把仅有的钱先支付给自己后，要支付税款和其他债主的压力就会变得非常大，迫使我去寻求其他形式的收入，支付的压就会成为我的动力。我会干额外的工作，开其他的公司，投资股票市场以及去做任何可以使那些人不再向我叫嚷的事。压力迫使我努力工作，迫使我去思考，最重要的是迫使我在钱的问题上更精明、更积极主动。如果我像你爸爸一样最后支付给自己，我虽然不会感到任何压力，但一定会因此破产。</pre>

<ul>
<li>如果自我驱动力不够，可以考虑通过客观条件来给压力，不过这里需要考虑度，否则就变成违法了</li>
</ul>
<pre>1．我需要一个超现实的理由——精神的力量</pre>
<pre>2．每天作出自己的选择——选择的力量
第一是时间，这是你最珍贵的资产；
第二是学习，正因为你没有钱，就更要去学习</pre>
<pre>3．慎重地选择朋友——关系的力量
但我要承认我确实会特意交一些有钱的朋友，我的目标不是他们的钱财，而是他们得以致富的知识</pre>

<pre>如果一项大宗交易被列在投资杂志的首页，在多数情况下你此刻去投资恐怕为时已晚，这时你应该去寻找新的机会</pre>

<pre>精明的投资者不会抱怨市场时机不对，如果错过了这个“浪头”，他们就会去寻找下一个，并且在其中找到自己的位置</pre>

<pre>4．掌握一种模式，然后再学习一种新的模式——快速学习的力量
在今天这个快速变化的社会中，你学到的东西再多都不算多，因为当你学到时往往就已经过时了。问题在于你学得有多快，这种技能是无价之宝</pre>

<pre>5．首先支付自己——自律的力量。如果你控制不了自己，就别想着致富</pre>

<ul>
<li>开创事业所必备的最重要的3种管理技能是：<br>1．现金流管理。 2．人事管理。 3．个人时间管理<pre>
在支付每月支出之前，他们总是先将钱分配给自己的资产项
因此第一条法则“首先支付自己”就是首先不能陷入债务之中
其次，当我偶尔资金短缺时，我仍会首先支付自己
不要背上数额过大的债务包袱。要保持低支出。首先增加自己的资产，然后，再用资产项产生的现金流来买大房子或好车
当你资金短缺时，让压力去发挥作用，而不要动用你的储蓄或资本。利用这种压力来激发你的理财天赋，想出新办法挣到更多的钱，然后再支付账单。这样做，不但能让你赚到钱，还能提高你的财商
穷人有一些不好的习惯，其中一个普遍的坏习惯就是随便动用储蓄。富人知道储蓄只能用于创造更多的收入，而不是用来支付账单</pre>

</li>
</ul>
<pre>6．给你的经纪人以优厚的报酬——好建议的力量
我们生活在信息时代，信息是无价的</pre>

<pre>7．做一个“印第安给予者”——无私的力量
于是，我会在股票上涨前一周到一个月内将资金调入，赢利后，我便抽回初始资金，并不再担心后市的波动，因为我的成本已经收回，并又投资于其他资产了。通过这样的方式，使我拥有了一笔从技术上来说是无偿取得的资产
**因此明智的投资者不只看到投资回报率，而且还能看到，一旦收回投资，就能额外得到的资产**</pre>

<pre>8．用资产来购买奢侈品——专注的力量
从一项资产中获得现金流的过程是容易的，但是拥有控制金钱的坚强意志却是困难的</pre>

<pre>9．对英雄的崇拜——神话的力量</pre>

<pre>10．先予后取——给予的力量
当你感到手头“有点紧”或是想得到什么时，首先要想到给予，只有先“予”，你才能在将来取得丰厚的回报，无论金钱、微笑、爱情还是友谊都是如此</pre>

<ul>
<li>开阔思路<pre>寻找新的思想。为了寻找投资的灵感，我经常到书店搜寻提供独特的、与众不同的主张的书，我把它们称为模式</pre>

</li>
</ul>
<pre>一桩交易要赢利，必须具备两个条件：一是廉价，二是有变化</pre>

<pre>我首先寻找想买进的人，然后才去找想卖出的人</pre>

<pre>零售商喜欢提供数量折扣，就是因为大部分商人都喜欢大额购买的人</pre>

<ul>
<li>参考书<pre>彼得·林奇写的《称雄华尔街》一书中介绍的选择有升值潜力股的方法</pre>
<pre>金钱是一种观念，有一本很棒的书叫《思考致富》，而不是“努力工作致富”</pre>




</li>
</ul>

        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-%E7%AC%94%E8%AE%B0/"> #读书笔记,笔记 </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2017/07/01/openvpn-over-gre/">
                openvpn over gre 科学上网方案
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2017-07-01
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/%E6%96%87%E7%AB%A0/">文章</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2017/07/01/openvpn-over-gre/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2017/07/01/openvpn-over-gre/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>[TOC]<br>###openvpn over gre 科学上网方案<br>####背景</p>
<ul>
<li>当你为了科学上网而租用了一台海外 vps，你会采用什么样的技术方案来搭建“梯子”？<br>sshd + socks5 代理的方案早已行不通，shadow socks 的方案据说也被各种干扰，出于使用上的方便，很多人会选择 openvpn，因为 openvpn server 可以直接往 client 推送路由，只有配置好，客户端基本上连上就能用，无需其他特殊配置。本文将介绍使用 openvpn over gre 的方式，搭建稳定的“梯子”，实现科学上网。</li>
<li>看完本文，你会有什么收获？<ul>
<li>了解如何搭建 openvpn server</li>
<li>了解如何配置 gre tunnel</li>
<li>了解如何通过 iptables 配置NAT</li>
<li>学会策略路由的初步知识以及如何在 linux 下配置策略路由</li>
<li>了解常见的网络问题排查方法</li>
</ul>
</li>
<li>搭建 openvpn server 的各种“姿势”<ul>
<li>client 直连海外 openvpn server<br>这种方式，早就被伟大的“墙”识破，基本上连都很难连上，非常不稳定，严重的，<strong>还有可能导致整个 vps IP 被封禁</strong></li>
<li>client 连到国内云服务器，再通过 gre 隧道中转到海外 vps<br>之所以这么做是因为据说从国内到国外通过 gre 隧道连接，相对比较稳定，而建立 gre 隧道，需要知道隧道两端的公网地址，为了找个相对稳定的外网地址，使用国内云服务器是比较靠谱的，但是<strong>这一招在阿里云服务器上行不通</strong>，阿里云服务器好像会过滤 gre 里面的敏感流量。</li>
<li>client 连到国内云服务器，国内云服务器再通过基于 gre 隧道的 openvpn 连接，连到国外 vps<br>最终在同事的指导下，使用了这种相对复杂的方式，在 gre 隧道基础上，再做一次 openvpn 连接，采用 openvpn over gre 的方式，才达到一个相对稳定的网络通道。</li>
</ul>
</li>
</ul>
<p>####所需资源<br>综上所述，为了搭建稳定的“梯子”，我们需要以下资源</p>
<ul>
<li>一台海外VPS</li>
<li>一台国内VPS（或者其他具有稳定公网 IP 的服务器）</li>
</ul>
<p>在本文中，我的服务器配置如下</p>
<ul>
<li>linode vps<ul>
<li>硬件配置：1 cpu/1G RAM</li>
<li>操作系统：debian 8 jessie x86_64</li>
</ul>
</li>
<li>阿里云<ul>
<li>硬件配置：1 cpu/2G RAM</li>
<li>操作系统：ubuntu 16.04.2 LTS x86_64</li>
</ul>
</li>
</ul>
<p>####服务端配置<br>0. 以下所有操作都需要在 root 用户下操作</p>
<ol>
<li><p>在海外 vps 配置 openvpn server</p>
<ol>
<li><p>安装相关软件</p>
<ul>
<li>openvpn：提供了OpenVPN的核心</li>
<li>easy-rsa：包含了一些有用的密钥管理脚本</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">aptitude update</span><br><span class="line">aptitude install -yy openvpn easy-rsa</span><br></pre></td></tr></table></figure></li>
<li><p>准备秘钥生成目录和脚本</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkdir /etc/openvpn/easy-rsa</span><br><span class="line">cp -r /usr/share/easy-rsa/* /etc/openvpn/easy-rsa</span><br></pre></td></tr></table></figure></li>
<li><p>编辑并设置证书相关的认证</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">   vim /etc/openvpn/easy-rsa/vars</span><br><span class="line">   <span class="comment"># 设置对应环境变量，对应信息请自行填写</span></span><br><span class="line">   <span class="built_in">export</span> KEY_COUNTRY=<span class="string">"CN"</span></span><br><span class="line"><span class="built_in">export</span> KEY_PROVINCE=<span class="string">"BJ"</span></span><br><span class="line"><span class="built_in">export</span> KEY_CITY=<span class="string">"Beijing"</span></span><br><span class="line"><span class="built_in">export</span> KEY_ORG=<span class="string">"Vincent Creations"</span></span><br><span class="line">   <span class="built_in">export</span> KEY_EMAIL=<span class="string">"nobody@vincent.com"</span></span><br><span class="line"><span class="built_in">export</span> KEY_CN=<span class="string">"VPNvps"</span></span><br><span class="line"><span class="built_in">export</span> KEY_NAME=<span class="string">"VPNsVPS"</span></span><br><span class="line"><span class="built_in">export</span> KEY_OU=<span class="string">"vincent"</span></span><br><span class="line"><span class="built_in">export</span> KEY_ALTNAMES=<span class="string">"VPNsVPS"</span></span><br></pre></td></tr></table></figure></li>
<li><p>生成 ca 证书</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/openvpn/easy-rsa</span><br><span class="line"><span class="built_in">source</span> vars</span><br><span class="line">sh clean-all</span><br><span class="line">sh build-ca</span><br></pre></td></tr></table></figure>
<p>由于我们之前已经在 vars 里面设置了对应信息，因此在这里，只需要一路按回车确认即可。脚本运行完成后，我们会在/etc/openvpn/easy-rsa/keys 下，获得 ca.crt 和 ca.key</p>
</li>
<li><p>生成 openvpn server 的证书和私钥</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/openvpn/easy-rsa</span><br><span class="line"><span class="built_in">source</span> vars</span><br><span class="line">sh build-key-server</span><br></pre></td></tr></table></figure>
<p>同样一路按回车，最后一步选择 y 确认，运行结束后会在/etc/openvpn/easy-rsa/keys 下，获得 server.crt 和 server.key</p>
</li>
<li><p>生成Diffie-Hellman参数</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 同样在上一步的目录下执行</span></span><br><span class="line">sh build-dh</span><br></pre></td></tr></table></figure>
<p>这一步会运行较长时间，屏幕上输出一堆点。运行完成之后，会在 keys 目录生成dh2048.pem 文件</p>
</li>
<li><p>通过上述步骤，我们获得以下文件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#ca 证书和 key</span></span><br><span class="line">   ca.crt</span><br><span class="line">   ca.key</span><br><span class="line">   <span class="comment">#服务端证书和 key</span></span><br><span class="line">   server.crt</span><br><span class="line">   server.key</span><br><span class="line">   <span class="comment">#Diffie-Hellman参数文件</span></span><br><span class="line">   dh2048.pem</span><br></pre></td></tr></table></figure></li>
<li><p>将服务端配置放到正确位置</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/openvpn/easy-rsa/keys</span><br><span class="line">cp ca.crt server.crt server.key dh2048.pem /etc/openvpn</span><br></pre></td></tr></table></figure></li>
<li><p>生成openvpn client 的证书和私钥<br>openvpn 客户端连接到服务端，需要有对应客户端的私钥和正式才能连接，因此还要为需要连接服务端的客户端，生成相应的私钥和证书</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/openvpn/easy-rsa</span><br><span class="line">   <span class="built_in">source</span> vars</span><br><span class="line">   sh build-key</span><br></pre></td></tr></table></figure>
<p>同样一直按回车确认，最后按 y，最终生成client.crt 和 client.key</p>
</li>
<li><p>修改服务端配置</p>
</li>
<li><p>配置翻墙路由推送</p>
</li>
<li><p>修改客户端配置，为客户端连接做准备</p>
</li>
</ol>
</li>
<li><p>在国内服务器和海外 vps 之间搭建 gre tunnel</p>
</li>
<li><p>在国内云服务器通过 openvpn over gre tunnel 连到海外 vps</p>
</li>
<li><p>在国内云服务器搭建 openvpn server<br>####客户端配置</p>
</li>
</ol>
<ul>
<li>电脑、手机上使用 openvpn 客户端连到国内云服务器</li>
<li>在 openwrt 路由器上配置 openvpn 客户端连接到国内云服务器<br>####问题汇总</li>
</ul>

        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/openvpn-%E7%BF%BB%E5%A2%99-gre/"> #openvpn 翻墙 gre </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/05/12/nginx-redirect-config/">
                Nginx重定向配置
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-05-11
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/%E8%BF%90%E7%BB%B4/">运维</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/05/12/nginx-redirect-config/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2015/05/12/nginx-redirect-config/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>转当年的老文章过来, 当年的文风好青涩, 哈哈</p>
<hr>
<p>第一次在自己的Blog写文章，并且是在VIM下用到了[vimrepress][]+[Markdown][]，同时还用上了传说中的[VIMIM][]。应该是非常你纪念意义的一篇， 呵呵。 虽然在配置的过程中经历了很多波折，但整个过程还是很有收获的。</p>
<p>这个VPS用的是[LightWave][]的最低配置，是性价比比较高的，在国内网速也不错。由于内存比较小，只有256M,所以一开始是想用Nginx这个比较省内存的轻量级WEB Server. 而由于hakitx需要一个重定向将他的域名[t.xixemp.org][1]转到他的新浪围脖[weibo.com/hakitx][2], 所以我决定给他弄个虚拟主机然后里面些个全局的301URL重定向，因为对Nginx不是很熟，一开始遇到了一些问题。 </p>
          <div class="post-more-link text-center">
            <a class="btn" href="/2015/05/12/nginx-redirect-config/#more">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/linux/"> #linux </a>
          
            <a href="/tags/nginx/"> #nginx </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/05/12/else-in-python/">
                Python中的else
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-05-11
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/%E7%BC%96%E7%A8%8B/">编程</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/05/12/else-in-python/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2015/05/12/else-in-python/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>很多语言的分支结构都会用if/else这种广为人知的语法结构，然而在python中，else不仅仅存在于if/else结构中，还有其它语法结构里面，也存在着鲜为人知的else分支。我在偶然的一次使用python的异常处理时，接触到了try里面的else分支，于是顺便就总结了一下Python里面的else语法结构。</p>
          <div class="post-more-link text-center">
            <a class="btn" href="/2015/05/12/else-in-python/#more">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/python/"> #python </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/05/12/rsync-xfer-script-test/">
                关于Rsync触发脚本的简单测试
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-05-11
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/%E8%BF%90%E7%BB%B4/">运维</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/05/12/rsync-xfer-script-test/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2015/05/12/rsync-xfer-script-test/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>上周新人linux命令串讲时，XMM偶然提到rsync在dry-run情况下依然会执行<br><a href="http://linux.die.net/man/5/rsyncd.conf" target="_blank" rel="noopener" title="rsyncd.conf manpage">pre-xfer</a>和<a href="http://linux.die.net/man/5/rsyncd.conf" target="_blank" rel="noopener" title="rsyncd.conf manpage">post-xfer</a>这两个触发脚本(下文简称触发脚本)，我当时不是很确定，<br>查了man手册里面没有对此做说明，就决定过后做一个测试验证一下，<br>顺便把rsync触发脚本中一些不确定的因素一一验证.</p>
          <div class="post-more-link text-center">
            <a class="btn" href="/2015/05/12/rsync-xfer-script-test/#more">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/linux/"> #linux </a>
          
            <a href="/tags/rsync/"> #rsync </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/05/12/mysql-replecation-config/">
                mysql-replecation
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-05-11
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/%E8%BF%90%E7%BB%B4/">运维</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/05/12/mysql-replecation-config/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2015/05/12/mysql-replecation-config/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>前段时间为了搭建某个web系统的一个数据库备份机，第一次实践了mysql主从复制的配置。整个配置过程相当顺利，按照官方的文档说明一步步做完即可。在这里整理一下整个过程和扩展一下涉及到的一些概念。</p>
          <div class="post-more-link text-center">
            <a class="btn" href="/2015/05/12/mysql-replecation-config/#more">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/linux/"> #linux </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/05/12/vsftp-config/">
                vsftpd简单配置
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-05-11
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/%E8%BF%90%E7%BB%B4/">运维</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/05/12/vsftp-config/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2015/05/12/vsftp-config/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>前段时间由于工作上的需求，实践了一下vsftpd的配置，接触到了一些不常遇到的需求，在此将整个配置步骤记录一下。</p>
          <div class="post-more-link text-center">
            <a class="btn" href="/2015/05/12/vsftp-config/#more">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/linux/"> #linux </a>
          
            <a href="/tags/vsftp/"> #vsftp </a>
          
            <a href="/tags/ftp/"> #ftp </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/05/12/one-blog-one-answer/">
                一篇博客，一个答案
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-05-11
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/%E6%96%87%E7%AB%A0/">文章</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/05/12/one-blog-one-answer/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2015/05/12/one-blog-one-answer/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>已经很久没有更新blog了，事实上我之前是设好了闹钟每周日更新一篇blog的，为此我还准备了很多blog主题，只是后来才发现写blog比我想象中的要花费更多的时间和精力。于是便中断了许久，买的域名也已经过期了。</p>
<p>然而还是想尽量能抽出点时间来写blog吧，因为确实积累了很多问题，很多问题需要花时间精力，也必须要花时间精力去研究、实验，然后整理答案。如果不去做，那就问题还是在那，下次再遇到时，依然是不会。如果不能静下心来去解决问题，那就永远无法进步，只能原地踏步。</p>
<p>每一篇博客，都要解决一些问题，每一篇博客，都是一个问题的答案，不计划、不逼迫，顺其自然的，开始把那些积累的问题一个个解决掉….</p>

        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/%E6%84%9F%E6%82%9F/"> #感悟 </a>
          
            <a href="/tags/%E5%BF%83%E6%83%85/"> #心情 </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/05/12/beginning/">
                千里之行始于足下
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-05-11
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/%E7%94%9F%E6%B4%BB/">生活</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/05/12/beginning/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2015/05/12/beginning/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <img src="/images/beginning.jpg" width="100%" height="30%">
### 背景
这个blog搭建起来有一段时间了，一直都没有开始写博客。主要是还没有想好怎样开始，毕竟这算是我第一个比较正式的博客。之前也有在vps上建过wordpress的blog，但是感觉太臃肿，又太慢，于是就相当于废弃了。这算是正式的第一篇post，打算记录一些杂七杂八的东西。
          <div class="post-more-link text-center">
            <a class="btn" href="/2015/05/12/beginning/#more">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/%E6%84%9F%E6%82%9F/"> #感悟 </a>
          
            <a href="/tags/%E5%BF%83%E6%83%85/"> #心情 </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
  </div>

  

        </div>

        
      </div>


      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      <div class="site-overview">
        <div class="site-author motion-element">
          <img class="site-author-image" src="http://cloud-4.steamusercontent.com/ugc/29599705911306135/2E33708EE2D861282F0859EE00CDABF659515F91/" alt="Vincent Ho" />
          <p class="site-author-name">Vincent Ho</p>
        </div>
        <p class="site-description motion-element">Live with hope, live with me.</p>
        <div class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives/">
              <span class="site-state-item-count">9</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories/">
              <span class="site-state-item-count">4</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags/">
              <span class="site-state-item-count">10</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </div>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml">
              <i class="menu-item-icon icon-feed"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
              <a href="https://github.com/vincentor" target="_blank">github</a>
            </span>
            
              <span class="links-of-author-item">
              <a href="http://weibo.com/hopeworld" target="_blank">weibo</a>
            </span>
            
              <span class="links-of-author-item">
              <a href="http://www.zhihu.com/people/xi-wang-40" target="_blank">zhihu</a>
            </span>
            
          
        </div>

        
        
          <div class="cc-license motion-element">
            <a href="http://creativecommons.org/licenses/by-nc-sa/4.0" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

      </div>

      

    </div>
  </div>


    </div>

    <div id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; &nbsp;  2015 - 
  2020
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author">Vincent Ho</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io" target="_blank" rel="noopener">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="noopener">
    NexT.Mist
  </a>
</div>



      </div>
    </div>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      $('.content img').each(function () {
        var $image = $(this);
        var $imageWrapLink = $image.parent('a');

        if ($imageWrapLink.size() < 1) {
          $imageWrapLink = $image.wrap('<a href="' + this.getAttribute('src') + '"></a>').parent('a');
        }
        $imageWrapLink.addClass('fancybox');
      });
    });
    $('.fancybox').fancybox({
      helpers: {
        overlay: {
          locked: false
        }
      }
    });
  </script>


  <script type="text/javascript">
  function hasMobileUA () {
    var nav = window.navigator;
    var ua = nav.userAgent;
    var pa = /iPad|iPhone|Android|Opera Mini|BlackBerry|webOS|UCWEB|Blazer|PSP|IEMobile|Symbian/g;

    return pa.test(ua);
  }

  function isDesktop () {
    return screen.width > 991 && !hasMobileUA();
  }

  function isTablet () {
    return screen.width < 992 && screen.width > 767 && hasMobileUA();
  }

  function isMobile () {
    return screen.width < 767 && hasMobileUA();
  }

  function escapeSelector (selector) {
    return selector.replace(/[!"$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g, "\\$&")
  }
</script>

  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" id="motion.global">
  $(document).ready(function () {
    var body = $('body');
    var isSidebarVisible = false;
    var sidebarToggle = $('.sidebar-toggle');
    var sidebarToggleLine1st = $('.sidebar-toggle-line-first')
    var sidebarToggleLine2nd = $('.sidebar-toggle-line-middle');
    var sidebarToggleLine3rd = $('.sidebar-toggle-line-last');
    var sidebar = $('.sidebar');

    var SIDEBAR_WIDTH = '320px';
    var SIDEBAR_DISPLAY_DURATION = 300;

    var sidebarToogleLineStatusInit = {width: '100%', opacity: 1, left: 0, rotateZ: 0, top: 0};

    var sidebarToggleLine1stStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine1stStatusArrow = {width: '50%', rotateZ: '-45deg', top: '2px'};
    var sidebarToogleLine1stStatusClose = {width: '100%', rotateZ: '-45deg', top: '5px'};

    var sidebarToggleLine2ndStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine2ndStatusArrow = {width: '90%'};
    var sidebarToogleLine2ndStatusClose = {opacity: 0};

    var sidebarToggleLine3rdStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine3rdStatusArrow = {width: '50%', rotateZ: '45deg', top: '-2px'};
    var sidebarToogleLine3rdStatusClose = {width: '100%', rotateZ: '45deg', top: '-5px'};

    LogoAndMenuMotion();
    sidebatToggleMotion();
    postsListMotion();
    backToTopMotion();


    $(document)
      .on('sidebar.isShowing', function () {
        isDesktop() && body.velocity(
          {paddingRight: SIDEBAR_WIDTH},
          SIDEBAR_DISPLAY_DURATION
        );
        sidebarContentMotion();
      })
      .on('sidebar.isHiding', function () {});

    function LogoAndMenuMotion() {
      $.Velocity.RunSequence([
        { e: $('.brand'), p: { opacity: 1 }, o: { duration: 100 } },
        { e: $('.logo'), p: { opacity: 1, top: 0 }, o: { duration: 50} },
        
        { e: $('.logo-line-before i'), p: { translateX: "100%" }, o: { duration: 500, sequenceQueue: false } },
        { e: $('.logo-line-after i'), p: { translateX: "-100%" }, o: { duration: 500, sequenceQueue: false } },
        
        { e: $('.site-title'), p: { opacity: 1, top: 0 }, o: { duration: 200 } }
      ]);
      $('.menu-item').velocity('transition.slideDownIn', {display: null});
    }


    function backToTopMotion () {
      var b2top = $('.back-to-top');
      b2top.on('click', function () {
        body.velocity('scroll');
      });
    }

    function sidebarShowMotion () {

      sidebarToggleLine1st.velocity(sidebarToogleLine1stStatusClose);
      sidebarToggleLine2nd.velocity(sidebarToogleLine2ndStatusClose);
      sidebarToggleLine3rd.velocity(sidebarToogleLine3rdStatusClose);

      sidebar.velocity({width: SIDEBAR_WIDTH}, {
        display: 'block',
        duration: SIDEBAR_DISPLAY_DURATION,
        complete: function () {
          sidebar.addClass('sidebar-active');
          sidebar.trigger('sidebar.didShow');
        }
      });
      sidebar.trigger('sidebar.isShowing');
    }

    function sidebarHideMotion () {
      isDesktop() && body.velocity({paddingRight: 0});
      sidebar.velocity('reverse');

      sidebarToggleLine1st.velocity(sidebarToggleLine1stStatusInit);
      sidebarToggleLine2nd.velocity(sidebarToggleLine2ndStatusInit);
      sidebarToggleLine3rd.velocity(sidebarToggleLine3rdStatusInit);

      sidebar.removeClass('sidebar-active');
      sidebar.trigger('sidebar.isHiding');
    };

    function sidebarContentMotion () {
      $('.sidebar .motion-element').velocity(
        'transition.slideRightIn',
        {stagger: 50, drag: true}
      );
    }

    function postsListMotion () {
      var postMotionOptions = window.postMotionOptions || {stagger: 300, drag: true};
      $('.post').velocity('transition.slideDownIn', postMotionOptions);
    }

    function sidebatToggleMotion () {
      sidebarToggle.on('click', function () {
        isSidebarVisible ? sidebarHideMotion() : sidebarShowMotion();
        isSidebarVisible = !isSidebarVisible;
      });

      sidebarToggle.hover(function () {
        if (isSidebarVisible) {return}
        sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusArrow);
        sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusArrow);
        sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusArrow);
      }, function () {
        if (isSidebarVisible) {return}
        sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusInit);
        sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusInit);
        sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusInit);
      });
    }
  });

</script>





  

  

  
  
  


  
  
</body>
</html>
